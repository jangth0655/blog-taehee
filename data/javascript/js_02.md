---
title: 변수에 대하여
category: js
createdAt: 2022-8-1
updatedAt: 2022/12/16
---

### 들어가기에 앞서

- 컴퓨터의 가장 중요한 3가지 구성 요소  
  ✓ disk : 하드디스크 (저장)  
  ✓ cpu : 저장장치에서 데이터를 읽어오고 연산  
  ✓ memory : 디스크에서 읽고 쓰는 것은 시간이 오래걸리기 때문에 데이터를 임시적으로 빠르게 읽고 쓰기 위해서 저장
- 애플리케이션 구성  
  ○ code : 개발자가 작성한 코드  
  ○ data : 애플리케이션에 전반적으로 필요한 데이터, 글로벌 데이터, 변수  
  ○ stack : 애플리케이션이 실행하는 함수의 순서  
  ○ heap : 데이터 사이즈가 정해져 있지 않고 동적으로 사이즈가 변화되는 공간(객체)
- 애플리케이션 실행 순서  
  ○ 입력 ---> 처리 ---> 출력  
  ○ 처리 : 주어진 로직을 처리, 계산을 위해서는 **데이터를 (임시)보관하기 위한 변수가 필요.**  
  ○ 출력 : 처리된 데이터를 출력(모니터, 파일시스템, 벡엔드 데이터 전송 등등)

---

컴퓨터는 연산과 기억을 수행하는 부품이 나눠져 있다. 즉 컴퓨터는 CPU를 통해 연산하고 메모리를 사용해 데이터를 기억하거나 읽어 들인다.  
**메모리**는 데이터를 저장할 수 있는 **메모리 셀의 집합체**다. 메모리 셀 하나의 크기는 1바이트(8비트)이며 1바이트 단위로 데이터를 저장하거나 읽는다.

컴퓨터는 모든 데이터를 2진수로 처리한다. 따라서 메모리에 저장되는 데이터(이미지, 텍스트, 동영상 등)과 상관없이 모두 2진수로 저장된다. 그리고 저장된 값은 메모리 위치를 나타내는 메모리 주소 즉 **각 셀의 고유한 주소**를 갖는다.

https://user-images.githubusercontent.com/66766189/129483981-a79a6836-af35-4ee0-a660-68265c8fd999.png
(해당 그림에서는 편의상 10진수이지만, **2진수**로 저장된다는 것을 기억!)

---

## 변수

메모리에 저장된 값을 사용하기 위해 해당 주소를 통해 값을 읽어와야하는데 직접적으로 메모리에 접근하는 것은 치명적인 오류를 발생시킨다. 뿐만 아니라 코드가 실행될 때 메모리 주소는 임의로 저장된다. 즉 메모리 주소는 코드가 실행될 때 마다 변경된다.

따라서 _프로그래밍 언어는 저장된 값을 읽고 재사용하기 위해_ **변수**라는 메커니즘을 제공한다. 즉 **변수**는 하나의 값을 저장하기 위해, 그 메모리 공간을 식별하기 위한 이름 또는 메모리 공간 자체이다.

- 변수에 값을 저장하는 것, **할당, 대입**
- 변수에 저장된 값을 읽어 들이는 것 **참조**
- 변수 이름 **식별자**라고 하며 어떤 값을 구별하기 위한 고유 이름이다.

### 변수 선언 · 초기화

**변수의 선언**은 값을 저장하기 위해 메모리 공간을 확보하고 **변수 이름과 메모리 공간의 주소를 연결**해 주는 준비하는 것을 말한다. 따라서 변수를 사용하기 위해서는 반드시 변수를 선언해야 하며 선언할 떄에는 var, let, const, 키워드를 사용한다.

https://jiyong1.github.io/static/0c2a84a014a6a9dbd4bfb75f46cd939f/4b190/jsvariable.jpg

#

- 선언단계 : 변수 이름 등록, 메모리 공간확보하는 단계
- 초기화 단계 : 변수가 선언된 이후 최초로 값을 할당하는 단계

변수의 선언은 자바스크립트가 실행되기전 즉 런티임전에 먼저 실행되어 실행컨텍스트에 등록된다.(변수 명과 값을 객체형태로 등록) 추가적으로 변수 선언 뿐만 아니라 모든 선언문은 실행되기전 등록된다.  
여기서 알아야할 포인트는 **호이스팅**이다. 즉 런타임 이전 선언문이 먼저 실행되기 때문에 코드의 선두로 끌어 올려진다. 이러한 **자바스크립트 특성을 호이스팅**이라고 한다. 그렇기 때문에 아래와 같이 변수를 참조할 수 있다.

```javascript
// var는 선언과 초기화 단계가 동시에 이루어진다. 따라서 초기화하지 않으면 undefined가 할당된다.
console.log(hello); // undefined
var hello;
```

#

#### 값의 할당

변수의 선언과 값의 할당은 실행 시점이 다르다. 변수의 선언은 런타임 이전에 실행되지만 값의 할당은 소스코드가 실행되는 시점에 실행된다.

```javascript
var score;
score = 80;
score = 90;
```

위 예시에서 score는 undefined가 할당된다. 이후 80을 할당하는데 이때 **포인트**는 undefined의 값을 덮어씌우는 것이 아니라 **새로운 메모리 공간에 80을 저장**한다는 것!, 값의 재할당도 역시 마찬가지로 새로운 메모리에 값을 저장한다.  
그럼 score은 90의 값을 가리키고 있는데, 나머지 undefined과 80은 어떻게 되는걸까?  
undefined와 80은 식별자가 참조하고 있지 않는 값이다. 이처럼 어떠한 식별자가 가리키고 있지 않는 값을 쓰레기값이라고 하며 쓰레기값은 **자바스크립트 내부에 있는 가비지컬렉터에 의해 해제**된다.
